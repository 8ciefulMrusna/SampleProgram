@{
    ViewBag.Title = "knockout.js サンプル";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@* 本文レイアウト *@
<div class="header" style="width: 99%; border-bottom: none; font-size: x-large;">
    Entity Framework Sample Application           
</div>
<div style="width: 100%; border: solid 1px #000000; border-bottom: none;">
    <table class="lblBg" style="width: 96%; margin: 10px auto 5px auto;">
        <tr>
            <th class="lblEFLeft">静的、動的のクエリ モードを選択</th>
            <td class="cmbEF fieldGap">
                <select id="ddlMode2" style="width: 100%"
                    data-bind="options: ddlMode2Items, optionsText: 'displayText', optionsValue: 'value', value: ddlMode2">
                </select></td>
            <th class="lblEFRight">並び替え対象列</th>
            <td class="cmbEF">
                <select id="ddlOrderColumn" style="width: 100%"
                    data-bind="options: ddlOrderColumnItems, optionsText: 'displayText', optionsValue: 'value', value: ddlOrderColumn">
                </select>
            </td>
        </tr>
        <tr>            
            <th class="lblEFLeft">昇順・降順</th>
            <td class="cmbEF fieldGap">
                <select id="ddlOrderSequence" style="width: 100%"
                    data-bind="options: ddlOrderSequenceItems, optionsText: 'displayText', optionsValue: 'value', value: ddlOrderSequence">
                </select>
            </td>
        </tr>
    </table>
    <table style="margin: auto;">
        <tr>
            <td>
                <input type="button" id="button1" value="件数取得" data-bind="click: GetCount" /></td>
            <td>
                <input type="button" id="button2" value="一覧取得" data-bind="click: GetList" /></td>
        </tr>
    </table>
</div>
<div style="width: 100%; border: solid 1px #000000;">
    <table style="width: 100%;">
        <tr>
            <td style="width: 30%; border-right: solid 1px #000000; vertical-align: top"">
                <div class="header">CRUD Operation</div>
                <div style="width: 100%;">
                    <table class="lblBg" style="width: 98%; margin: auto;">
                        <tr>
                            <th>ShipperId：</th>
                            <td>
                                <input type="text" id="textBox1" style="width: 99%;" data-bind="value: shipperId" />
                            </td>
                        </tr>
                        <tr>
                            <th>CompanyName：</th>
                            <td>
                                <input type="text" id="textBox2" style="width: 99%;" data-bind="value: companyName" />
                            </td>
                        </tr>
                        <tr>
                            <th>Phone：</th>
                            <td>
                                <input type="text" id="textBox3" style="width: 99%;" data-bind="value: phone" />
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <input type="button" id="button7" value="一件参照" data-bind="click: GetDetail" />
                                <input type="button" id="button8" value="追加" data-bind="click: InsertRecord" />
                                <input type="button" id="button9" value="更新" data-bind="click: UpdateRecord" />
                                <input type="button" id="button10" value="削除" data-bind="click: DeleteRecord" />
                            </td>
                        </tr>
                    </table>
                </div>
            </td>
            <td style="width: 70%; vertical-align: top">
                <div style="width: 100%; position:relative;">                    
                    <table id="tblShippers" data-bind="style: { display: isVisibletblShippers() === false ? 'none' : 'block' }">
                        <thead>
                            <tr data-bind="if: dataLists().length">
                                <th style="width: 33%">ShipperID</th>
                                <th style="width: 34%">CompanyName</th>
                                <th style="width: 33%">Phone</th>
                            </tr>
                        </thead>
                        <tbody data-bind="foreach: dataLists">
                            <tr style="width: 100%">
                                <td data-bind="text: shipperID"></td>
                                <td data-bind="text: companyName"></td>
                                <td data-bind="text: phone"></td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="lblBg" style="width: 96%; margin: auto;" data-bind="if: Result, style: { display: isMessage() === true ? 'block' : 'none' }">
                        <tr>
                            <th>処理結果：</th>
                            <td>
                                <input type="text" id="labelMessage" style="width: 100%;" data-bind="value: Result" /></td>
                        </tr>
                    </table>
                    <table style="position:absolute; top:35%; left:40%; z-index:9999; margin: auto; display: none" id="tblImageDeatail" data-bind="style: { display: isProgressLoading() === true ? 'block' : 'none' }">
                        <tr>
                            <td>
                                <img alt="Loading.." src="../Image/LoadingBlue.gif" />
                            </td>
                        </tr>
                    </table>
                </div>
            </td>
        </tr>
    </table>
</div>

@section scripts{
    @Scripts.Render("~/bundles/knockout")
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/Sample")
}
